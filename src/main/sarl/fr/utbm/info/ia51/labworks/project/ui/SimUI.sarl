package fr.utbm.info.ia51.labworks.project.ui

import javax.swing.JFrame
import java.awt.^event.KeyListener
import fr.utbm.info.ia51.framework.environment.EnvironmentListener
import java.awt.^event.KeyEvent
import fr.utbm.info.ia51.framework.environment.EnvironmentEvent
import javax.swing.JButton
import javax.swing.JPanel
import java.awt.BorderLayout
import javax.swing.BoxLayout
import java.awt.Toolkit
import javax.swing.JTextField
import java.awt.Insets
import java.awt.FlowLayout
import java.awt.Dimension
import java.awt.Color

class SimUI extends JFrame implements KeyListener, EnvironmentListener{
	
	var screenSize = Toolkit.getDefaultToolkit.getScreenSize()
	var width = screenSize.width-100
	var height = screenSize.height-100
	
	val startButton : JButton
	val settingsButton : JButton
	val tauxAccident : JTextField
	val mesureFlux : JTextField
	val vitesseTrajet : JTextField
	
	new {
		
		this.setSize(this.width, this.height)
		this.title="Traffic Simulator"
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)
		this.setResizable(false)
		
		this.startButton = new JButton("Start Simulation")
		this.startButton.toolTipText = "Start the simulation"
		this.startButton.setMargin(new Insets(20,20,20,20))
		this.settingsButton = new JButton("Settings")
		this.settingsButton.setMargin(new Insets(20, 20, 20, 20))
		
		
		
		val graphViewPanel = new JPanel
		graphViewPanel.layout = new BoxLayout(graphViewPanel, BoxLayout::X_AXIS)
		graphViewPanel.setPreferredSize(new Dimension(this.width-400, this.height))
		graphViewPanel.setBackground(Color.black)
		
		val feedBackPanel = new JPanel
		feedBackPanel.layout = new BoxLayout(feedBackPanel, BoxLayout::Y_AXIS)
		this.tauxAccident = new JTextField()
		this.mesureFlux = new JTextField()
		this.vitesseTrajet = new JTextField()
		feedBackPanel.add(this.tauxAccident)
		feedBackPanel.add(this.mesureFlux)
		feedBackPanel.add(this.vitesseTrajet)
		
		
		val btnPanel = new JPanel
		btnPanel.setLayout(new FlowLayout())
		btnPanel.add(this.startButton)
		btnPanel.add(this.settingsButton)
		//btnPanel.setBounds(110, 110, 110, 110)

		val leftPane = new JPanel
		leftPane.layout = new BorderLayout
		leftPane.setPreferredSize(new Dimension(400, this.height))
		leftPane.setBackground(Color.red)
		leftPane.add(BorderLayout::NORTH,feedBackPanel)
		leftPane.add(BorderLayout::SOUTH, btnPanel)
		
		
		this.contentPane.layout = new BorderLayout
		this.contentPane.add(BorderLayout::CENTER, graphViewPanel)
		this.contentPane.add(BorderLayout::EAST, leftPane)
		this.visible = true
		pack()
	}
	
	def keyPressed(arg0 : KeyEvent) {
		throw new UnsupportedOperationException("TODO: auto-generated method stub")
	}
	
	def keyReleased(arg0 : KeyEvent) {
		throw new UnsupportedOperationException("TODO: auto-generated method stub")
	}
	
	def keyTyped(arg0 : KeyEvent) {
		throw new UnsupportedOperationException("TODO: auto-generated method stub")
	}
	
	def environmentChanged(^event : EnvironmentEvent) {
		throw new UnsupportedOperationException("TODO: auto-generated method stub")
	}
	
}